# Библиотеки (Дополнительные главы)

Итак, до этого момента мы использовали для задания разметки компонентов различные комбинации трёх способов: `innerHTML`, `document.createElement` и `HTML Templates`. Первый повышает вероятность ошибок (возможности IDE не используются на полную), второй слишком императивен (много кода), третий требует явного размещения элементов `<template>` и не дает полной динамики.

Рассмотрим библиотеки, упрощающие использование Веб Компонентов. Важно, что если мы разрабатываем самостоятельную библиотеку компонентов, эти компоненты должны быть готовы к использованию, то есть после сборки пользователю библиотеки должны быть доступны валидные JS-файлы с определением Веб Компонентов в соответствии со стандартами. Для этого в большинстве случаев потребуется соответствующая инфраструктура: сборщики, транспайлеры и тп.

## Lit

*Lit* - библиотека для создания Веб Компонентов. Основная функциональность заключена в базовый класс `LitElement`, который расширяет `HTMLElement`. Lit использует теггированные шаблонные литералы для описания шаблонов в декларативном стиле, реактивные свойства и локальный CSS. Работает с ванильным JS и TypeScript и в теории может быть использован без сборщиков.

Разработчики заявляют, что *Lit* - отличный выбор для создания пользовательских веб-интерфейсов любого рода, объединяя преимущества Веб Компонентов и современный эргономичный пользовательский опыт. Повышает продуктивность разработки засчет реализации *реактивности* и *декларативных шаблонов*, оптимизирует обновление компонентов. Команда помогает Google поддерживать тысячи компонентов, вовлечена в работу групп по развитию Веб Стандартов и комьюнити.

На базе Lit построено большое количество библиотек компонентов.

## Stencil

#### JSX
В качестве языка шаблонов здесь используется `JSX` (`TSX` при использовании TypeScript). Идея родилась в *Facebook* при разработке *React* и отличалась от классических языков шаблонов, которые брали за основу HTML-разметку, добавляя к ней собственные директивы. В `JSX` каждый элемент трансформируется в вызов функции, которые в конечном итоге возвращают итоговый HTML.

Следующий код...

```jsx
const div = <div class="alert">Content</div>`
```

...будет заменен на

```js
const div = createElement('div', { class: 'alert' }, 'Content');
```

Функция `createElement` содержит три параметра: имя тега, объект со всеми атрибутами, объект с дочерними элементами (которые обычно также построены на `createElement`).

`JSX` хорошо поддерживается современными IDE, от разработчика не требуется изучать новый синтаксис (достаточно знания JavaScript).

